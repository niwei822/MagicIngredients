{% extends 'base.html' %}

{% block title %}Recipe detail{% endblock %}

{% block body %}

<div class="container">
    <div class="row">
        <div class="col-12">
            <div class="recipe_image">
                <img src="{{ recipe_image }}" alt=" ">
            </div>
        </div>
    </div>
</div>
<!-- Receipe Content Area -->
<div class="receipe-content-area">
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-8">
                <div class="receipe-headline my-5">
                    <h2>{{ recipe_title }}</h2>
                    <div class="cook_time">
                        <h6>Ready in: {{ cook_time }} minutes</h6>
                    </div>
                </div>
            </div>
        </div>
        <!--Save to favorites-->
        <div class="col-12 col-md-4">
            <div class="save-favor text-right my-5">
                <form action="/add_to_favorite/{{ local_recipe_id }}">
                    <button class="button" id="favor">Save to my favorites</button>
                </form>
                <form action="/delete_from_favorite/{{ local_recipe_id }}">
                    <button class="button" id="favor">Delete from my favorites</button>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-lg-8">
                <!-- Instructions -->
                <div class="single-preparation-step d-flex">
                    <h4>Instructions:</h4>
                    <p>
                    <ol class="steps">
                        {% if steps is string %}
                        <li> {{steps}} </li>
                        <li><a class="source_url" href="{{source_url}}">Link To The Original Recipe</Source></a> </li>
                        {% else %}
                        {% for step in steps %}
                        <li>
                            {{ step }}
                        </li>
                        {% endfor %}
                        {% endif %}
                    </ol>
                    </p>
                </div>
            </div>
            <!-- Ingredients -->
            <div class="col-12 col-lg-4">
                <div class="ingredients">
                    <h4>Ingredients:</h4>
                    <ul class="ingredients-list">
                        <!-- Custom Checkbox -->
                        <form action="/add_to_shoppinglist" class="custom-control custom-checkbox"
                            id="ingredients-checkbox" method="POST">
                            {% for ingredient in ingredients %}
                            <li>
                                <input type="checkbox" class="custom-control-input" name="ingredient"
                                    value="{{ ingredient.ingredient_name }}">
                                <label class="custom-control-label" for="customCheck8">{{ ingredient['ingredient_name']
                                    }}</label>
                            </li>
                            {% endfor %}
                            <input type="submit" value="Add to shopping list">
                        </form>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}